############################################################
# HP Tourism Portal â€“ Environment Template (RC4 Staging)
############################################################

# -------------------- Server --------------------
NODE_ENV=production
PORT=5000
HOST=0.0.0.0

# -------------------- Database --------------------
DATABASE_URL=postgresql://hptourism_user:supersecure@localhost:5432/hptourism
DATABASE_DRIVER=pg
DATABASE_AUTH_TOKEN=

# -------------------- Sessions --------------------
SESSION_SECRET=change-this-super-long-secret-please-keep-it-safe
SESSION_COOKIE_NAME=hp-tourism.sid
SESSION_COOKIE_DOMAIN=
SESSION_COOKIE_SECURE=true
SESSION_COOKIE_SAMESITE=lax
SESSION_IDLE_TIMEOUT_MINUTES=10080
SESSION_STORE=postgres

# -------------------- Redis (optional) --------------------
REDIS_URL=redis://localhost:6379
REDIS_TLS=false

# -------------------- Application Storage --------------------
USE_MEM_STORAGE=false

# -------------------- Object Storage --------------------
# Supported modes: local | s3 | replit
OBJECT_STORAGE_MODE=local
LOCAL_OBJECT_DIR=./local-object-storage
LOCAL_MAX_UPLOAD_BYTES=20971520

# S3/MinIO settings (required when OBJECT_STORAGE_MODE=s3)
OBJECT_STORAGE_S3_BUCKET=hptourism-documents
OBJECT_STORAGE_S3_REGION=ap-south-1
OBJECT_STORAGE_S3_ENDPOINT=https://s3.amazonaws.com
OBJECT_STORAGE_S3_FORCE_PATH_STYLE=true
OBJECT_STORAGE_S3_ACCESS_KEY_ID=CHANGEME
OBJECT_STORAGE_S3_SECRET_ACCESS_KEY=CHANGEME
OBJECT_STORAGE_S3_SIGNED_URL_TTL=900

# Replit sidecar fallback (used only when OBJECT_STORAGE_MODE=replit)
PRIVATE_OBJECT_DIR=

# -------------------- Frontend --------------------
FRONTEND_BASE_URL=https://hptourism.osipl.dev

# -------------------- HimKosh Gateway --------------------
HIMKOSH_PAYMENT_URL=https://himkosh.hp.nic.in/echallan/WebPages/wrfApplicationRequest.aspx
HIMKOSH_VERIFICATION_URL=https://himkosh.hp.nic.in/eChallan/webpages/AppVerification.aspx
HIMKOSH_CHALLAN_PRINT_URL=https://himkosh.hp.nic.in/eChallan/challan_reports/reportViewer.aspx
HIMKOSH_SEARCH_URL=https://himkosh.hp.nic.in/eChallan/SearchChallan.aspx

HIMKOSH_MERCHANT_CODE=
HIMKOSH_DEPT_ID=
HIMKOSH_SERVICE_CODE=
HIMKOSH_DDO_CODE=

HIMKOSH_HEAD=0230-00-104-01
HIMKOSH_HEAD2=
HIMKOSH_HEAD2_AMOUNT=

HIMKOSH_RETURN_URL=https://hptourism.osipl.dev/api/himkosh/callback
HIMKOSH_KEY_FILE_PATH=/opt/hptourism/app/server/himkosh/echallan.key
HIMKOSH_ALLOW_DEV_FALLBACK=false
HIMKOSH_TEST_MODE=true
HIMKOSH_FORCE_TEST_MODE=true

# -------------------- Security & Rate Limiting --------------------
SECURITY_ENABLE_RATE_LIMIT=true
SECURITY_ENABLE_CSRF=false
SECURITY_CSRF_HEADER=x-csrf-token
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=500
RATE_LIMIT_AUTH_WINDOW_MS=600000
RATE_LIMIT_AUTH_MAX_REQUESTS=20
RATE_LIMIT_UPLOAD_WINDOW_MS=600000
RATE_LIMIT_UPLOAD_MAX_REQUESTS=30

# -------------------- Logging --------------------
LOG_LEVEL=info
LOG_PRETTY=false

# -------------------- ClamAV --------------------
CLAMAV_ENABLED=false
CLAMAV_HOST=127.0.0.1
CLAMAV_PORT=3310
CLAMAV_TIMEOUT_MS=10000
